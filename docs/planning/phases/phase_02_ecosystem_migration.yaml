phase_id: "02"
name: "Ecosystem_Wide_Migration"
dependencies: ["01"]
status: "PENDING"

# This phase will be executed by the Ecosystem Migration Agent.
# It will iterate through all 13 NizamIQ repositories and bring them
# into compliance with the UDS defined in Phase 01.

steps:
  - id: "02.1"
    action: "Scaffold missing docs/architecture, docs/api, docs/governance directories in all repos missing them (Fireside, KubeClaw, nizamiq.com, sputnik-gateway)"
    logic_order: 1
    status: "PENDING"
    verification_method: "ls /path/to/repo/docs/architecture /path/to/repo/docs/api /path/to/repo/docs/governance"
    proof_of_work: ""
    observation: ""

  - id: "02.2"
    action: "Copy canonical AI_AGENT_INSTRUCTIONS.md and ci_cd_standards.md into docs/governance/ for all repos missing them (gateway-config, sputnik-gateway)"
    logic_order: 2
    status: "PENDING"
    verification_method: "test -f /path/to/repo/docs/governance/AI_AGENT_INSTRUCTIONS.md && echo EXISTS"
    proof_of_work: ""
    observation: ""

  - id: "02.3"
    action: "Create or update CONTEXT.md in all repos, ensuring all four required sections are present (currently 9 repos missing the CI/CD section)"
    logic_order: 3
    status: "PENDING"
    verification_method: "grep -l 'CI/CD' /path/to/repo/CONTEXT.md"
    proof_of_work: ""
    observation: ""

  - id: "02.4"
    action: "Migrate all strategy-style bold-header documents to UDS YAML frontmatter format"
    logic_order: 4
    status: "PENDING"
    verification_method: "python3 /path/to/frontmatter_audit.py"
    proof_of_work: ""
    observation: ""

  - id: "02.5"
    action: "Create CHANGELOG.md for all documents in docs/ that do not have one"
    logic_order: 5
    status: "PENDING"
    verification_method: "find /path/to/repo/docs -name 'CHANGELOG.md' | wc -l"
    proof_of_work: ""
    observation: ""

  - id: "02.6"
    action: "Create CONTEXT.md for sputnik-gateway (the only repo currently missing it)"
    logic_order: 6
    status: "PENDING"
    verification_method: "test -f /path/to/sputnik-gateway/CONTEXT.md && echo EXISTS"
    proof_of_work: ""
    observation: ""

quality_controls:
  - control: "All 13 repos have CONTEXT.md with all 4 required sections"
    check_command: "python3 /path/to/context_audit.py"
    result: "PENDING"

  - control: "All docs/ markdown files pass UDS frontmatter validation"
    check_command: "python3 /path/to/frontmatter_validator.py"
    result: "PENDING"

metadata:
  created_at: "2026-02-20"
  created_by: "Manus AI"
